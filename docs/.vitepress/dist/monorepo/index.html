<!DOCTYPE html>
<html lang="es-ES">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Monorepo | Mis apuntes</title>
    <meta name="description" content="Introducción a Monorepo" />
    <link rel="stylesheet" href="/assets/style.6909697c.css" />
    <link rel="modulepreload" href="/assets/app.1fad655d.js" />
    <link
      rel="modulepreload"
      href="/assets/monorepo_index.md.25127b35.lean.js"
    />

    <script id="check-dark-light">
      (() => {
        const e = localStorage.getItem("vitepress-theme-appearance") || "",
          a = window.matchMedia("(prefers-color-scheme: dark)").matches;
        (!e || e === "auto" ? a : e === "dark") &&
          document.documentElement.classList.add("dark");
      })();
    </script>
  </head>
  <body>
    <div id="app">
      <div class="Layout" data-v-f44a984a>
        <!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span
        ><a
          href="#VPContent"
          class="VPSkipLink visually-hidden"
          data-v-151f2593
        >
          Skip to content </a
        ><!--]--><!---->
        <header class="VPNav no-sidebar" data-v-f44a984a data-v-a50780ff>
          <div class="VPNavBar" data-v-a50780ff data-v-6f1d18b5>
            <div class="container" data-v-6f1d18b5>
              <div class="VPNavBarTitle" data-v-6f1d18b5 data-v-d5925166>
                <a class="title" href="/" data-v-d5925166
                  ><!--[--><!--]--><!----><!--[-->Mis apuntes<!--]--><!--[--><!--]--></a
                >
              </div>
              <div class="content" data-v-6f1d18b5>
                <!--[--><!--]--><!----><!----><!---->
                <div
                  class="VPNavBarAppearance appearance"
                  data-v-6f1d18b5
                  data-v-a3e7452b
                >
                  <button
                    class="VPSwitch VPSwitchAppearance"
                    type="button"
                    role="switch"
                    aria-label="toggle dark mode"
                    aria-checked="false"
                    data-v-a3e7452b
                    data-v-481098f9
                    data-v-eba7420e
                  >
                    <span class="check" data-v-eba7420e
                      ><span class="icon" data-v-eba7420e
                        ><!--[--><svg
                          xmlns="http://www.w3.org/2000/svg"
                          aria-hidden="true"
                          focusable="false"
                          viewbox="0 0 24 24"
                          class="sun"
                          data-v-481098f9
                        >
                          <path
                            d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"
                          ></path>
                          <path
                            d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"
                          ></path>
                          <path
                            d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"
                          ></path>
                          <path
                            d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"
                          ></path>
                          <path
                            d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"
                          ></path>
                          <path
                            d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"
                          ></path>
                          <path
                            d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"
                          ></path>
                          <path
                            d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"
                          ></path>
                          <path
                            d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"
                          ></path></svg
                        ><svg
                          xmlns="http://www.w3.org/2000/svg"
                          aria-hidden="true"
                          focusable="false"
                          viewbox="0 0 24 24"
                          class="moon"
                          data-v-481098f9
                        >
                          <path
                            d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"
                          ></path></svg
                        ><!--]--></span
                      ></span
                    >
                  </button>
                </div>
                <!---->
                <div
                  class="VPFlyout VPNavBarExtra extra"
                  data-v-6f1d18b5
                  data-v-e4361c82
                  data-v-6ffb57d3
                >
                  <button
                    type="button"
                    class="button"
                    aria-haspopup="true"
                    aria-expanded="false"
                    aria-label="extra navigation"
                    data-v-6ffb57d3
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      aria-hidden="true"
                      focusable="false"
                      viewbox="0 0 24 24"
                      class="icon"
                      data-v-6ffb57d3
                    >
                      <circle cx="12" cy="12" r="2"></circle>
                      <circle cx="19" cy="12" r="2"></circle>
                      <circle cx="5" cy="12" r="2"></circle>
                    </svg>
                  </button>
                  <div class="menu" data-v-6ffb57d3>
                    <div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc>
                      <!----><!--[--><!--[--><!---->
                      <div class="group" data-v-e4361c82>
                        <div class="item appearance" data-v-e4361c82>
                          <p class="label" data-v-e4361c82>Appearance</p>
                          <div class="appearance-action" data-v-e4361c82>
                            <button
                              class="VPSwitch VPSwitchAppearance"
                              type="button"
                              role="switch"
                              aria-label="toggle dark mode"
                              aria-checked="false"
                              data-v-e4361c82
                              data-v-481098f9
                              data-v-eba7420e
                            >
                              <span class="check" data-v-eba7420e
                                ><span class="icon" data-v-eba7420e
                                  ><!--[--><svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    aria-hidden="true"
                                    focusable="false"
                                    viewbox="0 0 24 24"
                                    class="sun"
                                    data-v-481098f9
                                  >
                                    <path
                                      d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"
                                    ></path>
                                    <path
                                      d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"
                                    ></path>
                                    <path
                                      d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"
                                    ></path>
                                    <path
                                      d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"
                                    ></path>
                                    <path
                                      d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"
                                    ></path>
                                    <path
                                      d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"
                                    ></path>
                                    <path
                                      d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"
                                    ></path>
                                    <path
                                      d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"
                                    ></path>
                                    <path
                                      d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"
                                    ></path></svg
                                  ><svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    aria-hidden="true"
                                    focusable="false"
                                    viewbox="0 0 24 24"
                                    class="moon"
                                    data-v-481098f9
                                  >
                                    <path
                                      d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"
                                    ></path></svg
                                  ><!--]--></span
                                ></span
                              >
                            </button>
                          </div>
                        </div>
                      </div>
                      <!----><!--]--><!--]-->
                    </div>
                  </div>
                </div>
                <!--[--><!--]--><button
                  type="button"
                  class="VPNavBarHamburger hamburger"
                  aria-label="mobile navigation"
                  aria-expanded="false"
                  aria-controls="VPNavScreen"
                  data-v-6f1d18b5
                  data-v-e5dd9c1c
                >
                  <span class="container" data-v-e5dd9c1c
                    ><span class="top" data-v-e5dd9c1c></span
                    ><span class="middle" data-v-e5dd9c1c></span
                    ><span class="bottom" data-v-e5dd9c1c></span
                  ></span>
                </button>
              </div>
            </div>
          </div>
          <!---->
        </header>
        <!----><!---->
        <div class="VPContent" id="VPContent" data-v-f44a984a data-v-d981fe29>
          <div class="VPDoc has-aside" data-v-d981fe29 data-v-cfb513e0>
            <div class="container" data-v-cfb513e0>
              <div class="aside" data-v-cfb513e0>
                <div class="aside-curtain" data-v-cfb513e0></div>
                <div class="aside-container" data-v-cfb513e0>
                  <div class="aside-content" data-v-cfb513e0>
                    <div class="VPDocAside" data-v-cfb513e0 data-v-afc4c1a1>
                      <!--[--><!--]--><!--[--><!--]-->
                      <div
                        class="VPDocAsideOutline"
                        data-v-afc4c1a1
                        data-v-2865c0b0
                      >
                        <div class="content" data-v-2865c0b0>
                          <div class="outline-marker" data-v-2865c0b0></div>
                          <div class="outline-title" data-v-2865c0b0>
                            En esta página
                          </div>
                          <nav
                            aria-labelledby="doc-outline-aria-label"
                            data-v-2865c0b0
                          >
                            <span
                              class="visually-hidden"
                              id="doc-outline-aria-label"
                              data-v-2865c0b0
                            >
                              Table of Contents for current page
                            </span>
                            <ul class="root" data-v-2865c0b0 data-v-1188541a>
                              <!--[--><!--]-->
                            </ul>
                          </nav>
                        </div>
                      </div>
                      <!--[--><!--]-->
                      <div class="spacer" data-v-afc4c1a1></div>
                      <!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]-->
                    </div>
                  </div>
                </div>
              </div>
              <div class="content" data-v-cfb513e0>
                <div class="content-container" data-v-cfb513e0>
                  <!--[--><!--]-->
                  <main class="main" data-v-cfb513e0>
                    <div
                      style="position: relative"
                      class="vp-doc _monorepo_index"
                      data-v-cfb513e0
                    >
                      <div>
                        <h1 id="monorepo" tabindex="-1">
                          Monorepo
                          <a
                            class="header-anchor"
                            href="#monorepo"
                            aria-hidden="true"
                            >#</a
                          >
                        </h1>
                        <p>Monorepo = Un repositorio.</p>
                        <p>
                          <strong
                            >Multiples paquetes que tienen interdependencias
                            entre ellos, por lo que estan entrelazados, y que se
                            gestionan desde un solo repositorio.</strong
                          >
                        </p>
                        <p>
                          Al gestionar los paquetes desde un solo repositiorio,
                          podemos dividirlos y tratarlo como capas
                          independientes, lo que aumenta la
                          <strong>encapsulación</strong>. Por lo que dentro de
                          un repositorio tenemos diferentes
                          bibliotecas|componentes|paquetes|modulos|etc.
                        </p>
                        <p>
                          Además, al tener un solo repositorio, podemos tener un
                          solo flujo de trabajo por lo que al hacer un commit,
                          puede modificar varios paquetes, y el commit mantiene
                          un <strong>unico historial de cambios</strong>. Esto
                          nos permite tener un control de versiones mucho más
                          sencillo, y hacer un seguimiento más simple de los
                          errores.
                        </p>
                        <h2 id="workspaces" tabindex="-1">
                          Workspaces
                          <a
                            class="header-anchor"
                            href="#workspaces"
                            aria-hidden="true"
                            >#</a
                          >
                        </h2>
                        <p>
                          Los workspaces son una característica de npm que nos
                          permite gestionar paquetes dentro de un mismo
                          repositorio. Para ello, debemos definir los paquetes
                          que queremos gestionar en el archivo
                          <code>package.json</code>:
                        </p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki has-highlighted-lines"
                          ><code><span class="line"><span style="color:#676E95;">// package.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-notes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">private</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">workspaces</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">packages/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// * cualquier subdirectorio dentro de packages</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <h2 id="convencion-de-nombres" tabindex="-1">
                          Convención de nombres
                          <a
                            class="header-anchor"
                            href="#convencion-de-nombres"
                            aria-hidden="true"
                            >#</a
                          >
                        </h2>
                        <p>
                          Para que los workspaces funcionen correctamente,
                          debemos seguir una convención de nombres. Por ejemplo,
                          si tenemos un paquete llamado <code>types</code>, el
                          nombre del paquete en el
                          <code>package.json</code> debe ser
                          <code>@awesome/types</code>. @awesome es el nombre del
                          scope, y types es el nombre del paquete. Y el nombre
                          del scope tiene que ser utilizado en los otros
                          paquetes. De esta forma esta nomenclatura nos permite
                          identificar que paquetes pertenecen al mismo
                          repositorio.
                        </p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki has-highlighted-lines"
                          ><code><span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// packages/types/package.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@awesome/types</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">devDependencies</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">typescript</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">^4.0.3</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <h2 id="dependencias" tabindex="-1">
                          Dependencias
                          <a
                            class="header-anchor"
                            href="#dependencias"
                            aria-hidden="true"
                            >#</a
                          >
                        </h2>
                        <h3 id="dependencias-de-los-workspaces" tabindex="-1">
                          Dependencias de los workspaces
                          <a
                            class="header-anchor"
                            href="#dependencias-de-los-workspaces"
                            aria-hidden="true"
                            >#</a
                          >
                        </h3>
                        <p>
                          En el caso de types/package.json, tiene una
                          dependencia de typescript. Mientras que nuestro
                          package.json de raiz no tiene ninguna dependencia.
                        </p>
                        <p>
                          Ahora bien, al momento de instalar las dependencias,
                          npm instala las dependencias de los paquetes en el
                          directorio raiz.
                        </p>
                        <p>Ejemplo, con yarn, al hacer un yarn.</p>
                        <div class="language-">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang"></span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#A6ACCD;">//yarn.lock</span></span>
<span class="line"><span style="color:#A6ACCD;">typescript@^4.0.3:</span></span>
<span class="line"><span style="color:#A6ACCD;">  version &quot;4.8.4&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  resolved &quot;https://registry.yarnpkg.com/typescript/-/typescript-4.8.4.tgz#c464abca159669597be5f96b8943500b238e60e6&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  integrity sha512-QCh+85mCy+h0IGff8r5XWzOVSbBO+KfeYrMQh7NJ58QujwcE22u+NUSmUxqF+un70P9GXKxa2HCNiTTMJknyjQ==</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre>
                        </div>
                        <h3
                          id="configuracion-de-dependencias-globales"
                          tabindex="-1"
                        >
                          Configuración de dependencias globales
                          <a
                            class="header-anchor"
                            href="#configuracion-de-dependencias-globales"
                            aria-hidden="true"
                            >#</a
                          >
                        </h3>
                        <p>
                          Al package.json de raiz, solo tenemos que instalar las
                          dependencias a nivel global que sirvan para la
                          experiencia de desarollo, no debemos intalar
                          dependencias que aporten funcionalidad.
                        </p>
                        <p>
                          Es muy frequente que los paquetes tengan por ejemplo
                          eslint/babel/jest... Para evitar tener que instalarlo
                          en cada paquete, podemos instalarlo de forma global.
                          Para ello, debemos configurar el archivo
                          <code>package.json</code> de la siguiente forma:
                        </p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki has-highlighted-lines"
                          ><code><span class="line"><span style="color:#676E95;">// package.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-notes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">private</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">workspaces</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">packages/*</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">devDependencies</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">eslint</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">^8.5.0</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          Ahora bien, dentro de cada paquete puede tener sus
                          propias reglas o no. En el caso de unas reglas
                          globales, podemos configurar el archivo
                          <code>.eslintrc.js</code> en la raiz. Mientras que la
                          configuración de cada paquete se puede configurar en
                          el archivo <code>.eslintrc.js</code> de cada paquete,
                          para que extienda de la configuración general.
                        </p>
                        <div class="language-">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang"></span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#A6ACCD;">// packages/types/.eslintrc</span></span>
<span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;extends&quot;: &quot;../../.eslintrc&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre>
                        </div>
                        <p>
                          Al momento de querer interactuar con lint/jest... en
                          cada paquete, debemos añadir un comando, por ejemplo:
                        </p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki has-highlighted-lines"
                          ><code><span class="line"><span style="color:#676E95;">// packages/types/package.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">lint</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">eslint .</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">jest</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          Esto nos permite ejecutar el comando
                          <code>yarn lint</code> o <code>yarn jest</code> en
                          cada paquete. Incluso lo podemos ejecutar en el
                          directorio raiz, <code>yarn jest</code> y ejecutará
                          todos los tests... de todos los paquetes. ¿Entonces
                          porque lo tengo que añadir en cada paquete?, por
                          convención, porque quizás dentro de un paquete la
                          configuración o como se tienen que hacer los tests
                          serán diferentes. Ejemplo, componentes con css, que
                          tome capturas de pantalla, etc.
                        </p>
                        <h3 id="conflictos-de-dependencias" tabindex="-1">
                          Conflictos de dependencias
                          <a
                            class="header-anchor"
                            href="#conflictos-de-dependencias"
                            aria-hidden="true"
                            >#</a
                          >
                        </h3>
                        <p>
                          Al tener diferentes paquetes, puede ser que usemos dos
                          dependencias iguales, una en la raiz, y otra en el
                          paquete. Ejemplo jest.
                        </p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki has-highlighted-lines"
                          ><code><span class="line"><span style="color:#676E95;">// package.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">workspaces</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">packages/*</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">devDependencies</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">jest</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">^27.4.5</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki has-highlighted-lines"
                          ><code><span class="line"><span style="color:#676E95;">// packages/types/package.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@awesome/types</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">devDependencies</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">jest</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">^26.4.5</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          En este caso, npm/yarn instalará la versión 26.4.5 en
                          el paquete types, y la versión 27.4.5 en el directorio
                          raiz. Es decir, de esta manera habrá una version local
                          en el paquete types. Y otra version global en el
                          directorio raiz.
                        </p>
                        <h2 id="lerna" tabindex="-1">
                          Lerna
                          <a
                            class="header-anchor"
                            href="#lerna"
                            aria-hidden="true"
                            >#</a
                          >
                        </h2>
                        <p>
                          Lerna nos soluciona un montón de problemas que tenemos
                          al trabajar con workspaces. Por ejemplo, la
                          instalación de dependencias, la ejecución de scripts,
                          la publicación de paquetes, etc. Por ejemplo, un caso
                          que se nos estaba dando en los puntos previos es que
                          teniamos que ejecutar cada script en su paquete, por
                          ejemplo <code>yarn lint</code> en el paquete types.
                          Con lerna podemos ejecutarlo en el directorio raiz, y
                          lerna se encargará de ejecutarlo
                          <strong>en todos los paquetes</strong>
                        </p>
                        <h3 id="instalacion" tabindex="-1">
                          Instalación
                          <a
                            class="header-anchor"
                            href="#instalacion"
                            aria-hidden="true"
                            >#</a
                          >
                        </h3>
                        <p>
                          Para instalar lerna, debemos ejecutar el siguiente
                          comando:
                        </p>
                        <div class="language-bash">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">bash</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#A6ACCD;">yarn add -DW lerna</span></span>
<span class="line"><span style="color:#A6ACCD;">    or</span></span>
<span class="line"><span style="color:#A6ACCD;">volta install lerna</span></span>
<span class="line"><span style="color:#A6ACCD;">  or</span></span>
<span class="line"><span style="color:#A6ACCD;">npx lerna init</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          En la configuración de lerna, podemos configurar el
                          directorio de los paquetes, por defecto es
                          <code>packages/*</code>. Seria como el workspaces de
                          npm.
                        </p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#676E95;">// lerna.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">packages</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">packages/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          npmClient: Por defecto es npm, pero podemos
                          configurarlo para que use yarn.
                        </p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#676E95;">// lerna.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">npmClient</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">yarn</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          version: Por defecto es independent, que permite
                          incrementar las versiones del paquete de forma
                          independiente entre sí. Pero podemos configurarlo para
                          que todas las versiones sean iguales, si queremo unir
                          automáticamente todas las versiones del paquete. Un
                          problema con este enfoque es que un cambio importante
                          en cualquier paquete dará como resultado que todos los
                          paquetes tengan una nueva versión principal.
                        </p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#676E95;">// lerna.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0.0.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> || </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">independent</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          useWorkspaces: Por defecto es true, que permite que
                          lerna use el workspaces de npm. Si lo configuramos a
                          false, lerna no usará el workspaces de npm, y
                          tendremos que configurar lerna para que use el
                          directorio de los paquetes.
                        </p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#676E95;">// lerna.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">useWorkspaces</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <h3 id="comandos" tabindex="-1">
                          Comandos
                          <a
                            class="header-anchor"
                            href="#comandos"
                            aria-hidden="true"
                            >#</a
                          >
                        </h3>
                        <p>
                          Lerna nos permite ejecutar comandos, los más comunes
                          son:
                        </p>
                        <ul>
                          <li>
                            lerna link - Conecta los paquetes entre sí, para que
                            puedan importar entre sí. Por ejemplo, si tenemos un
                            paquete types, y otro paquete utils, que importa
                            types, lerna link nos permite que utils pueda
                            importar types.
                          </li>
                          <li>
                            lerna bootstrap - Instala las dependencias de todos
                            los paquetes, y hace como un yarn link.
                          </li>
                          <li>
                            lerna run <code>test</code> - Ejecuta un script
                            <code>test</code> en todos los paquetes. Es como un
                            forloop.
                            <ul>
                              <li>
                                lerna run <code>build</code> --concurrency 2
                                --stream Ejecutará 2 simultaneamente, y mostrará
                                el output en tiempo real. Porque hay paquetes
                                que no tienen relación entre sí, y que no
                                dependen de otros paquetes. Puede ser bastante
                                útil para aligerar pipelines, lint, test...
                              </li>
                              <li>
                                lerna run <code>dev</code> --scope @awesome/ui
                                --stream Ejecutará el script dev en el paquete
                                ui. Es como un yarn workspace @awesome/ui dev.
                                Además, mostrará el output (logs) en tiempo
                                real.
                              </li>
                            </ul>
                          </li>
                          <li>
                            lerna exec <code>test</code> - Ejecuta un script
                            <code>test</code> en todos los paquetes. Es como el
                            caso anterior, pero permite comandos arbitrarios,
                            como crear una carpeta, ls, etc.
                          </li>
                          <li>
                            lerna add <code>dependency</code> - Como yarn add,
                            pero añade la dependencia a todos los paquetes.
                            <ul>
                              <li>
                                lerna add <code>@awesome/types</code> --scope
                                <code>package</code> - Añade la dependencia solo
                                al paquete especificado.
                              </li>
                            </ul>
                          </li>
                        </ul>
                        <h4 id="comandos-para-las-versiones" tabindex="-1">
                          Comandos para las versiones
                          <a
                            class="header-anchor"
                            href="#comandos-para-las-versiones"
                            aria-hidden="true"
                            >#</a
                          >
                        </h4>
                        <ul>
                          <li>
                            lerna changed - Muestra los paquetes que han
                            cambiado.
                          </li>
                          <li>lerna list - Muestra los paquetes.</li>
                          <li>
                            lerna version - interface para incrementar las
                            versiones de los paquetes.
                            <ul>
                              <li>
                                lerna version --conventional-commits: no te
                                pregunta, directamente hace lo que cree gracias
                                a los commit conventions.
                              </li>
                            </ul>
                          </li>
                        </ul>
                        <h2 id="scripty" tabindex="-1">
                          Scripty
                          <a
                            class="header-anchor"
                            href="#scripty"
                            aria-hidden="true"
                            >#</a
                          >
                        </h2>
                        <p>
                          No es requerido, pero es una herramienta que nos
                          permite ejecutar scripts. Nos ayuda a la gestión del
                          monorepo, y en caso de querer modificar un script, no
                          tenemos que modificarlo en todos los paquetes.
                        </p>
                        <p>Instalación:</p>
                        <div class="language-bash">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">bash</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#A6ACCD;">yarn add -DW scripty</span></span>
<span class="line"><span style="color:#A6ACCD;">    or</span></span>
<span class="line"><span style="color:#A6ACCD;">volta install scripty</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>Todos los script quedarían:</p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki has-highlighted-lines"
                          ><code><span class="line"><span style="color:#676E95;">// package.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripty</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          Se debe añadir el directorio de donde están los
                          scripts, además podemos tener múltiples directorios,
                          por ejemplo, un directorio para el workspace y otro
                          para los paquetes.
                        </p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki has-highlighted-lines"
                          ><code><span class="line"><span style="color:#676E95;">// package.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripty</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">scripty</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">path</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./scripts/workspace</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          Crear carpeta scripts en el directorio raíz, y crear
                          un archivo por cada script que queramos ejecutar. Por
                          ejemplo, test.js
                        </p>
                        <div class="language-sh">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">sh</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#A6ACCD;">// scripts/workspace/test.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#!/usr/bin/env bash</span></span>
<span class="line"><span style="color:#A6ACCD;">yarn lerna run </span><span style="color:#82AAFF;">test</span><span style="color:#A6ACCD;"> --stream</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <h2 id="commits-commitlint" tabindex="-1">
                          Commits CommitLint
                          <a
                            class="header-anchor"
                            href="#commits-commitlint"
                            aria-hidden="true"
                            >#</a
                          >
                        </h2>
                        <h3 id="conventional-changelog" tabindex="-1">
                          Conventional Changelog
                          <a
                            class="header-anchor"
                            href="#conventional-changelog"
                            aria-hidden="true"
                            >#</a
                          >
                        </h3>
                        <p>
                          <a
                            href="https://github.com/conventional-changelog/conventional-changelog"
                            target="_blank"
                            rel="noreferrer"
                            >Conventional Changelog</a
                          >
                          Genera un changelog basado en los commits. Es decir,
                          si tenemos un commit que diga
                          <code>feat: add new feature</code>, generará un
                          changelog con la sección feat, y el mensaje
                          <code>add new feature</code>.
                        </p>
                        <p>Instalación:</p>
                        <div class="language-bash">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">bash</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#A6ACCD;">yarn add -WD @commitlint/cli @commitlint/config-conventional @commitlint/config-lerna-scopes commitlint husky lerna-changelog</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <h4 id="husky" tabindex="-1">
                          husky
                          <a
                            class="header-anchor"
                            href="#husky"
                            aria-hidden="true"
                            >#</a
                          >
                        </h4>
                        <p>
                          Husky nos permite ejecutar scripts antes de hacer un
                          commit, por ejemplo, ejecutar el linter, o el test. En
                          este caso, ejecutaremos el commitlint, para que nos
                          muestre un error si el commit no cumple con las
                          reglas.
                        </p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#676E95;">// package.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">husky</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">hooks</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">commit-msg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">commitlint -E HUSKY_GIT_PARAMS</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <h4 id="commitlint" tabindex="-1">
                          commitlint
                          <a
                            class="header-anchor"
                            href="#commitlint"
                            aria-hidden="true"
                            >#</a
                          >
                        </h4>
                        <p>
                          Commitlint nos permite configurar las reglas de los
                          commits. En este caso, usaremos las reglas de
                          conventional-changelog y lerna-scopes.
                        </p>
                        <div class="language-js">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">js</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#676E95;">// commitlint.config.js</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">extends</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@commitlint/config-conventional</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@commitlint/config-lerna-scopes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          Los scopes son los paquetes, por ejemplo, si tenemos
                          un paquete utils, y queremos hacer un commit, el scope
                          sería utils.
                        </p>
                        <div class="language-sh">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">sh</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#A6ACCD;">git commit -m </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">feat(utils): add new feature</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <h4 id="verdaccio" tabindex="-1">
                          Verdaccio
                          <a
                            class="header-anchor"
                            href="#verdaccio"
                            aria-hidden="true"
                            >#</a
                          >
                        </h4>
                        <p>
                          <a
                            href="https://verdaccio.org/"
                            target="_blank"
                            rel="noreferrer"
                            >Verdaccio</a
                          >
                          es un servidor de paquetes privados. Nos permite
                          publicar paquetes en un servidor local, y que otros
                          desarrolladores puedan instalarlos.
                        </p>
                        <p>
                          Esto nos sirve sobretodo al principio, por no estar
                          publicando paquetes en npm cuando estamos trasteando
                          con los monorepos.
                        </p>
                        <p>Instalación:</p>
                        <div class="language-bash">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">bash</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#A6ACCD;">volta install verdaccio</span></span>
<span class="line"><span style="color:#A6ACCD;">yarn global add verdaccio</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>.npmrc para que npm use verdaccio:</p>
                        <div class="language-sh">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">sh</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#676E95;"># .npmrc</span></span>
<span class="line"><span style="color:#A6ACCD;">registry=http://localhost:4873/</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          También para descargar de ahí se le puede añadir el
                          registry en el comando: npm i --registry
                          <code>http://localhost:4873</code> myPackage
                        </p>
                        <p>
                          También nos sirve como como un caché de sus paquetes
                          NPM que funcionan sin conexión, ya que todo se ejecuta
                          en localhost.
                        </p>
                        <h2 id="documentacion" tabindex="-1">
                          Documentación
                          <a
                            class="header-anchor"
                            href="#documentacion"
                            aria-hidden="true"
                            >#</a
                          >
                        </h2>
                        <h3 id="api-extractor" tabindex="-1">
                          API Extractor
                          <a
                            class="header-anchor"
                            href="#api-extractor"
                            aria-hidden="true"
                            >#</a
                          >
                        </h3>
                        <p>
                          <a
                            href="https://api-extractor.com/"
                            target="_blank"
                            rel="noreferrer"
                            >API Extractor</a
                          >
                          es una herramienta que nos permite generar
                          documentación de nuestros paquetes. Nos permite
                          generar un fichero .d.ts, que es un fichero de
                          definición de tipos, y un fichero .api.json, que es un
                          fichero con la documentación de los tipos.
                        </p>
                        <p>Instalación:</p>
                        <div class="language-bash">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">bash</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#A6ACCD;">yarn add -DW @microsoft/api-extractor</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          Crea fichero api-extractor-base.json en la raiz del
                          proyecto, con la configuración base. Del cual los
                          otros paquetes extenderán.
                          <strong>Se puede mover a packages</strong>, para
                          evitar tenerlo en la raíz.
                        </p>
                        <div class="language-bash">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">bash</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#A6ACCD;">yarn api-extractor init</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          Dentro del archivo, api-extractor-base.json, estos
                          campos són relevantes: dtsRollup: genera un fichero
                          .d.ts con todos los tipos de los paquetes.
                          publicTrimmedFilePath: genera un fichero .api.md con
                          la documentación de los tipos.
                        </p>
                        <p>
                          Añadir un archivo api-extractor.json en cada paquete,
                          que extienda de api-extractor-base.json. Ejemplo:
                        </p>
                        <div class="language-json">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">json</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#676E95;">// api-extractor.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">$schema</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://developer.microsoft.com/json-schemas/api-extractor/v7/api-extractor.schema.json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">extends</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">../api-extractor-base.json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">mainEntryPointFilePath</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&lt;projectFolder&gt;/dist/index.js</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>
                          Si es la primera vez, debemos asegurarnos que en cada
                          paquete exista una carpeta etc
                        </p>
                        <div class="language-bash">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">bash</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#A6ACCD;">lerna </span><span style="color:#82AAFF;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mkdir etc</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre>
                        </div>
                        <p>Para generar los ficheros, ejecutar:</p>
                        <div class="language-bash">
                          <button title="Copy Code" class="copy"></button
                          ><span class="lang">bash</span>
                          <pre
                            class="shiki"
                          ><code><span class="line"><span style="color:#A6ACCD;">yarn api-extractor run --local</span></span>
<span class="line"></span></code></pre>
                        </div>
                      </div>
                    </div>
                  </main>
                  <!--[--><!--]--><!----><!--[--><!--]-->
                </div>
              </div>
            </div>
          </div>
        </div>
        <!----><!--[--><!--]-->
      </div>
    </div>
    <script>
      __VP_HASH_MAP__ = JSON.parse(
        '{"css-animations-and-transitions_index.md":"e4a3a124","index.md":"d40fed68","monorepo_index.md":"25127b35","test-driven-development_index.md":"89653df0","vue-unit-testing_index.md":"bf296506","web-components_index.md":"b8a65763"}'
      );
    </script>
    <script type="module" async src="/assets/app.1fad655d.js"></script>
  </body>
</html>
